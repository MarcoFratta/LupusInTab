@import "tailwindcss";

/* Fallback styles in case Tailwind doesn't load */
body {
  margin: 0;
  background: #0a0a0a; /* neutral-950 */
  color: #e5e5e5; /* neutral-200 */
  font-family: 'Inter', system-ui, sans-serif;
  min-height: 100vh;
  line-height: 1.5;
  -webkit-text-size-adjust: 100%; /* Prevent font scaling on iOS */
  -webkit-tap-highlight-color: transparent; /* Remove tap highlight */
}

#app {
  display: flex;
  align-items: center;    /* center vertically */
  justify-content: center;/* center horizontally */
  padding: 0;             /* no padding on mobile */
  min-height: 100vh;
  width: 100%;
}

@media (min-width: 640px) {
  #app {
    padding: 0.75rem;
  }
}

@media (min-width: 768px) {
  #app {
    padding: 1rem;
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center justify-center gap-1 sm:gap-2 rounded-md text-sm font-medium px-3 sm:px-4 py-2 transition-colors border shadow-sm;
  }
  .btn-primary {
    @apply bg-neutral-700 text-neutral-100 border-neutral-700 hover:bg-neutral-600 hover:border-neutral-600;
  }
  .btn-accent {
    @apply bg-gradient-to-r from-violet-500 to-fuchsia-500 text-white border-transparent hover:from-violet-400 hover:to-fuchsia-400 shadow-md;
  }
  .btn-secondary {
    @apply bg-neutral-900/60 text-neutral-200 border-neutral-800 hover:bg-neutral-800/60;
  }
  .btn-ghost {
    @apply bg-transparent text-neutral-300 border-neutral-800 hover:bg-neutral-900/60 hover:text-neutral-100;
  }
  .btn-danger {
    @apply bg-red-600 text-white border-red-600 hover:bg-red-500;
  }
  .btn-disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  .panel {
    @apply bg-neutral-900/60 border border-neutral-800/40 rounded-xl;
  }
  .stat-card {
    /* can't @apply custom classes in Tailwind v4; inline the utilities */
    @apply bg-neutral-900/60 border border-neutral-800/40 rounded-xl p-4 hover:bg-neutral-900/80 transition-colors;
  }
}

/* Mobile-specific fixes for Capacitor */
@supports (padding-top: env(safe-area-inset-top)) {
  body {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* Simple, clean mobile scrolling solution */
@media (max-width: 768px) {
  /* Basic mobile setup */
  body, html {
    overflow-x: hidden;
    height: 100vh;
  }
  
  #app {
    height: auto;
    min-height: 100vh;
  }
  
  /* Bottom navigation spacing */
  body.has-bottom-nav {
    padding-bottom: calc(5rem + env(safe-area-inset-bottom));
  }
  
  #app.has-bottom-nav {
    padding-bottom: calc(5rem + env(safe-area-inset-bottom));
  }
  
  /* Game phases - use natural Tailwind behavior */
  .min-h-screen {
    min-height: 100vh;
    min-height: 100dvh;
  }
  
  /* Allow natural scrolling when content extends beyond viewport */
  .w-full.max-w-2xl {
    height: auto;
  }
  
  /* Preserve scrollable content */
  .max-h-96.overflow-y-auto,
  .overflow-y-auto {
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
}

/* Hide all scrollbars across the entire app */
* {
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

*::-webkit-scrollbar {
  display: none !important;
}

/* Hide scrollbars for specific elements that might need scrolling */
html, body, #app, .min-h-screen, .w-full, .space-y-6, .space-y-4, .max-h-96 {
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

html::-webkit-scrollbar,
body::-webkit-scrollbar,
#app::-webkit-scrollbar,
.min-h-screen::-webkit-scrollbar,
.w-full::-webkit-scrollbar,
.space-y-6::-webkit-scrollbar,
.space-y-4::-webkit-scrollbar,
.max-h-96::-webkit-scrollbar {
  display: none !important;
}

/* Ensure scrolling still works on mobile */
@media (max-width: 768px) {
  * {
    -webkit-overflow-scrolling: touch !important;
    scroll-behavior: smooth !important;
  }
  
  /* Prevent scrolling when content fits within viewport */
  body:not(.needs-scroll) {
    overflow: hidden !important;
  }
  
  /* Only allow scrolling when explicitly needed */
  body.needs-scroll {
    overflow-y: auto !important;
  }
  
  /* Override any inline styles for body overflow */
  body.needs-scroll {
    overflow: hidden auto !important;
    overflow-x: hidden !important;
    overflow-y: auto !important;
  }
  
  /* Force the needs-scroll class to work */
  body.needs-scroll,
  body.needs-scroll * {
    overflow-x: hidden !important;
    overflow-y: auto !important;
  }
}

/* Try to override the specific overflow: hidden auto */
@media (max-width: 768px) {
  body[style*="overflow"] {
    overflow: auto !important;
    overflow-x: hidden !important;
    overflow-y: auto !important;
  }
}

  /* Fix mobile scrolling issues */
  @media (max-width: 768px) {
    body, html {
      overflow-x: hidden;
      overflow-y: auto;
      height: auto;
      min-height: 100vh;
      position: relative;
    }
    
    #app {
      overflow: visible;
      height: auto;
      min-height: 100vh;
      position: relative;
    }
    
    /* Prevent unnecessary scrolling when content fits */
    .space-y-6.text-center.px-4,
    .space-y-4.px-4.sm\\:px-0 {
      overflow: visible;
      height: auto;
    }
    
    /* Fix for setup phase content */
    .space-y-6.text-center.px-4.sm\\:px-0.sm\\:pb-0 {
      overflow: visible;
      height: auto;
    }
    
    /* Ensure main container doesn't cause scrolling */
    .w-full.bg-neutral-950\\/95 {
      overflow: visible;
      height: auto;
    }
    
    /* Fix bottom navigation spacing */
    .fixed.bottom-0 {
      position: fixed !important;
      bottom: 0 !important;
      left: 0 !important;
      right: 0 !important;
      z-index: 9999 !important;
    }
    
      /* Prevent body from having extra height due to fixed elements */
  body.has-bottom-nav {
    padding-bottom: calc(5rem + env(safe-area-inset-bottom));
    overflow-x: hidden !important;
    overflow-y: auto !important;
    height: auto !important;
    min-height: 100vh !important;
    position: relative;
  }
    
    /* Ensure app container respects bottom navigation */
    #app.has-bottom-nav {
      padding-bottom: calc(5rem + env(safe-area-inset-bottom));
      overflow: visible;
      height: auto;
      min-height: calc(100vh - 5rem - env(safe-area-inset-bottom));
    }
  }





/* Ensure content doesn't overlap with status bar on mobile */


/* Capacitor-specific mobile optimizations */
.capacitor-mobile {
  /* Prevent horizontal scrolling */
  overflow-x: hidden;

  
  /* Improve mobile scrolling */
  * {
    -webkit-overflow-scrolling: touch;
  }
}

/* Mobile bottom navigation bar styling */
@media (max-width: 768px) {
  /* Safe area support for bottom navigation */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  /* Ensure content doesn't get hidden behind bottom navigation */
  .pb-20 {
    padding-bottom: calc(5rem + env(safe-area-inset-bottom));
  }
  
  /* Enhanced backdrop blur support */
  @supports (backdrop-filter: blur(20px)) {
    .backdrop-blur-xl {
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
    }
  }
  
  /* Ensure bottom navigation is truly sticky */
  .fixed.bottom-0 {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 9999 !important;
    width: 100% !important;
    height: auto !important;
  }

  /* Prevent body scrolling when bottom nav is active - only during setup */
  body.has-bottom-nav {
    padding-bottom: calc(5rem + env(safe-area-inset-bottom));
  }

  /* Ensure the main content area respects the bottom navigation - only during setup */
  #app.has-bottom-nav {
    min-height: calc(100vh - 5rem - env(safe-area-inset-bottom));
  }
  
  /* Force bottom navigation to be visible and properly positioned */
  .fixed.bottom-0.sm\\:hidden {
    display: block !important;
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 9999 !important;
  }
  
  /* Ensure bottom navigation is always on top and properly positioned */
  .fixed.bottom-0 {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 9999 !important;
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
  }
}

/* Consistent icon styling for navigation */
.navigation-icon {
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.navigation-icon[fill="currentColor"] {
  stroke: none;
}